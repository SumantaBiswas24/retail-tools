<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Retail Buying Decision Tool</title>

<style>
:root{
--good:#22c55e;
--risk:#facc15;
--bad:#ef4444;
--bg:#f8fafc;
--card:#ffffff;
--primary:#2563eb;
}

body{
font-family:system-ui,-apple-system,Segoe UI,Roboto;
background:var(--bg);
margin:0;
padding:1rem;
}

.container{
max-width:520px;
margin:auto;
}

h2{
text-align:center;
margin-bottom:1rem;
}

.card{
background:var(--card);
padding:1.5rem;
border-radius:16px;
box-shadow:0 4px 12px rgba(0,0,0,.06);
margin-bottom:1rem;
}

label{
font-size:.85rem;
color:#64748b;
display:block;
margin-bottom:.3rem;
}

input,select{
width:100%;
padding:.8rem;
font-size:1rem;
margin-bottom:.8rem;
border-radius:10px;
border:1px solid #cbd5e1;
}

button{
width:100%;
padding:1rem;
border:none;
border-radius:12px;
font-weight:700;
cursor:pointer;
}

.result{
text-align:center;
margin-top:1rem;
}

.score{
font-size:2rem;
font-weight:800;
}

.good{color:var(--good);}
.risk{color:#a16207;}
.bad{color:var(--bad);}

.badge{
display:inline-block;
padding:.3rem .6rem;
border-radius:6px;
font-weight:700;
margin-top:.4rem;
}

.bg-good{background:#dcfce7;color:#166534;}
.bg-risk{background:#fef9c3;color:#854d0e;}
.bg-bad{background:#fee2e2;color:#991b1b;}

.history{
margin-top:1.5rem;
}

.history-item{
background:#fff;
padding:.8rem;
border-radius:10px;
margin-bottom:.6rem;
display:flex;
justify-content:space-between;
align-items:center;
box-shadow:0 1px 3px rgba(0,0,0,.1);
}

small{color:#64748b;}
</style>
</head>

<body>

<div class="container">
<h2>ðŸ§  Retail Buying Decision</h2>

<div class="card">
<label>Buy Price</label>
<input type="number" id="buy" placeholder="â‚¹">

<label>GST %</label>
<select id="gst">
<option value="0">0%</option>
<option value="5">5%</option>
<option value="12">12%</option>
<option value="18">18%</option>
</select>

<label>Expected Selling Price</label>
<input type="number" id="sell" placeholder="â‚¹">

<label>Category</label>
<select id="category">
<option value="shirts">Shirts</option>
<option value="jeans">Jeans</option>
<option value="tshirt">T-Shirts</option>
<option value="accessories">Accessories</option>
<option value="footwear">Footwear</option>
</select>

<button onclick="analyze()">Analyze Buying</button>

<div class="result" id="output"></div>
</div>

<div class="history">
<h4>Past Decisions</h4>
<div id="history"></div>
</div>

</div>

<script>
const rules={
shirts:35,
jeans:40,
tshirt:45,
accessories:50,
footwear:30
};

function analyze(){
const buy=+document.getElementById('buy').value||0;
const sell=+document.getElementById('sell').value||0;
const gst=+document.getElementById('gst').value;
const cat=document.getElementById('category').value;

if(!buy||!sell) return;

const cost=buy+(buy*gst/100);
const profit=sell-cost;
const margin=(profit/sell)*100;
const req=rules[cat];

let status,qty,cls,score=0;

score+=Math.min(margin,60);
if(gst>12) score-=10;
if(profit<100) score-=10;
if(margin<req) score-=20;
score=Math.max(0,Math.round(score));

if(margin>=req+5){
status="GOOD BUY";
qty="20â€“30 units";
cls="good";
}
else if(margin>=req){
status="RISKY BUY";
qty="8â€“15 units";
cls="risk";
}
else{
status="AVOID BUYING";
qty="0 units";
cls="bad";
}

document.getElementById('output').innerHTML=`
<div class="score ${cls}">${score}/100</div>
<div class="badge bg-${cls}">${status}</div>
<p><b>Profit:</b> â‚¹${profit.toFixed(0)}</p>
<p><b>Margin:</b> ${margin.toFixed(1)}%</p>
<p><b>Recommended Qty:</b> ${qty}</p>
<small>Required margin for ${cat}: ${req}%</small>
`;

saveHistory({cat,margin,score,status});
renderHistory();
}

function saveHistory(item){
let h=JSON.parse(localStorage.getItem('buyingHistory'))||[];
h.unshift({...item,id:Date.now()});
h=h.slice(0,20);
localStorage.setItem('buyingHistory',JSON.stringify(h));
}

function renderHistory(){
const h=JSON.parse(localStorage.getItem('buyingHistory'))||[];
document.getElementById('history').innerHTML=h.map(i=>`
<div class="history-item">
<div>
<b>${i.cat}</b><br>
<small>${i.margin.toFixed(1)}%</small>
</div>
<div class="badge ${i.status.includes('GOOD')?'bg-good':i.status.includes('RISK')?'bg-risk':'bg-bad'}">
${i.status}
</div>
</div>
`).join('');
}

renderHistory();
</script>

</body>
</html>
